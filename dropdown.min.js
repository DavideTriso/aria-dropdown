!function(d){"use strict";function l(d,a,s){d.is("[id]")||d.attr("id",a+(s+1))}var a=[],s=0,e={},n={aCs:"aria-controls",aHi:"aria-hidden",aEx:"aria-expanded",aHp:"aria-haspopup",t:"true",f:"false"},t=0;e.init=function(i,o){var p=d.extend({},d.fn.ariaDropdown.defaultSettings,i),r={ddBtn:o.find("."+p.ddBtnClass),ddCollapse:o.find("."+p.ddCollapseClass),ddDismissBtn:o.find("."+p.ddDismissBtnClass).length>0?o.find("."+p.ddDismissBtnClass):null},c=[];l(r.ddBtn,"dropdown__btn-",t),l(r.ddCollapse,"dropdown__collapse-",t),r.ddBtn.attr(n.aHp,n.t).attr(n.aCs,r.ddCollapse.attr("id")),r.ddCollapse.attr(n.aHi,n.t),c.push(p,r),o.data("ddArray",c),e.collapse(o,!1),r.ddBtn.on("click",function(){e.toggle(o,!0)}),null!==r.ddDismissBtn&&r.ddDismissBtn.on("click",function(){e.collapse(o,!0),r.ddBtn.focus()}),p.collapseOnOutsideClick&&(d(window).on("click",function(){e.collapse(o,!0)}),d(o).on("click",function(d){d.stopPropagation()})),p.expandOnlyOne&&(a.push(o),s+=1),t+=1},e.toggle=function(d,a){var s=d.data("ddArray")[0].ddExpandedClass;d.hasClass(s)?e.collapse(d,a):e.expand(d,a)},e.expand=function(t,l){var i=t.data("ddArray")[1].ddBtn,o=t.data("ddArray")[1].ddCollapse,p=t.data("ddArray")[0],r=l===!0?p.animationSpeed:0,c=0;for(t.addClass(p.ddExpandedClass),i.attr(n.aEx,n.t).addClass(p.ddBtnExpandedClass),o.attr(n.aHi,n.f).css("z-index",p.expandZIndex).addClass(p.ddCollapseExpandedClass),"slide"===p.animationType?o.stop().slideDown(r):"fade"===p.animationType&&o.stop().fadeIn(r),c;s>c;c+=1)d.data(a[c])!==d.data(t)&&e.collapse(a[c],!0)},e.collapse=function(d,a){var s=d.data("ddArray")[1].ddBtn,e=d.data("ddArray")[1].ddCollapse,t=d.data("ddArray")[0],l=a===!0?t.animationSpeed:0;d.removeClass(t.ddExpandedClass),s.attr(n.aEx,n.f).removeClass(t.ddBtnExpandedClass),e.attr(n.aHi,n.t).css("z-index",t.collapseZIndex).removeClass(t.ddCollapseExpandedClass),"slide"===t.animationType?e.stop().slideUp(l):"fade"===t.animationType&&e.stop().fadeOut(l)},d.fn.ariaDropdown=function(a){if("object"==typeof a||"undefined"==typeof a)this.each(function(){e.init(a,d(this))});else switch(a){case"expand":e.expand(d(this)[0],!0);break;case"collapse":e.collapse(d(this)[0],!0);break;case"show":e.expand(d(this)[0],!1);break;case"hide":e.collapse(d(this)[0],!1);case"toggle":e.toggle(d(this)[0],!0)}},d.fn.ariaDropdown.defaultSettings={ddClass:"dropdown",ddBtnClass:"dropdown__btn",ddDismissBtnClass:"dropdown__dismiss-btn",ddCollapseClass:"dropdown__collapse",ddExpandedClass:"dropdown_expanded",ddBtnExpandedClass:"dropdown__btn_expanded",ddCollapseExpandedClass:"dropdown__collapse_expanded",animationType:"slide",animationSpeed:300,collapseOnOutsideClick:!0,expandOnlyOne:!0,expandZIndex:10,collapseZIndex:1}}(jQuery);