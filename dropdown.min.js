!function(a){"use strict";function o(a,e,n){a.is("[id]")||a.attr("id",e+(n+1))}var e=[],n=0,c={},d={aCs:"aria-controls",aHi:"aria-hidden",aEx:"aria-expanded",aHp:"aria-haspopup",t:"true",f:"false"},s=0;c.init=function(i,t){var l=a.extend({},a.fn.ariaDropdown.defaultSettings,i),r={ddBtn:t.find("."+l.ddBtnClass),ddCollapse:t.find("."+l.ddCollapseClass),ddDismissBtn:t.find("."+l.ddDismissBtnClass).length>0?t.find("."+l.ddDismissBtnClass):null},p=[];o(t,"dropdown_",s),o(r.ddBtn,"dropdown__btn-",s),o(r.ddCollapse,"dropdown__collapse-",s),r.ddBtn.attr(d.aHp,d.t).attr(d.aCs,r.ddCollapse.attr("id")),r.ddCollapse.attr(d.aHi,d.t),p.push(l,r),t.data("ddArray",p),c.collapse(t,!1),r.ddBtn.on("click.ariaDropdown",function(){c.toggle(t,!0)}),null!==r.ddDismissBtn&&r.ddDismissBtn.on("click.ariaDropdown",function(){c.collapse(t,!0),r.ddBtn.focus()}),l.collapseOnOutsideClick&&(a(window).on("click.ariaDropdown",function(){c.collapse(t,!0)}),a(t).on("click.ariaDropdown",function(a){a.stopPropagation()})),l.expandOnlyOne&&(e.push(t),n+=1),s+=1},c.toggle=function(a,e){var n=a.data("ddArray")[0].ddExpandedClass;a.hasClass(n)?c.collapse(a,e):c.expand(a,e)},c.expand=function(a,s){var o=a.data("ddArray")[1].ddBtn,i=a.data("ddArray")[1].ddCollapse,t=a.data("ddArray")[0],l=s===!0?t.animationSpeed:0,r=0;for(a.addClass(t.ddExpandedClass),o.attr(d.aEx,d.t).addClass(t.ddBtnExpandedClass),i.attr(d.aHi,d.f).css("z-index",t.expandZIndex).addClass(t.ddCollapseExpandedClass),"slide"===t.animationType?i.stop().slideDown(l):"fade"===t.animationType&&i.stop().fadeIn(l),r;n>r;r+=1)e[r].attr("id")!==a.attr("id")&&c.collapse(e[r],!0)},c.collapse=function(a,e){var n=a.data("ddArray")[1].ddBtn,c=a.data("ddArray")[1].ddCollapse,s=a.data("ddArray")[0],o=e===!0?s.animationSpeed:0;a.removeClass(s.ddExpandedClass),n.attr(d.aEx,d.f).removeClass(s.ddBtnExpandedClass),c.attr(d.aHi,d.t).css("z-index",s.collapseZIndex).removeClass(s.ddCollapseExpandedClass),"slide"===s.animationType?c.stop().slideUp(o):"fade"===s.animationType&&c.stop().fadeOut(o)},a.fn.ariaDropdown=function(e){if("object"==typeof e||"undefined"==typeof e)this.each(function(){c.init(e,a(this))});else switch(e){case"expand":this.each(function(){c.expand(a(this),!0)});break;case"collapse":this.each(function(){c.collapse(a(this),!0)});break;case"show":this.each(function(){c.expand(a(this),!1)});break;case"hide":this.each(function(){c.collapse(a(this),!1)});break;case"toggle":this.each(function(){c.toggle(a(this),!0)})}},a.fn.ariaDropdown.defaultSettings={ddBtnClass:"dropdown__btn",ddDismissBtnClass:"dropdown__dismiss-btn",ddCollapseClass:"dropdown__collapse",ddExpandedClass:"dropdown_expanded",ddBtnExpandedClass:"dropdown__btn_expanded",ddCollapseExpandedClass:"dropdown__collapse_expanded",animationType:"slide",animationSpeed:300,collapseOnOutsideClick:!0,expandOnlyOne:!0,expandZIndex:10,collapseZIndex:1}}(jQuery);