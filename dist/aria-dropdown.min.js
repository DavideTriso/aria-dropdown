!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery,window)}(function(e,n){"use strict";function t(e,n,t){return e.is("[id]")||e.attr("id",n+t),e.attr("id")}function s(n,t){var s=this;s.settings=e.extend({},e.fn[i].defaultSettings,t),s.element=e(n),s.btn=s.element.find("> ."+s.settings.btnClass),s.menu=s.element.find("> ."+s.settings.menuClass),s.elementStatus=!1,s.init()}var i="ariaDropdown",a={aCs:"aria-controls",aHi:"aria-hidden",aOw:"aria-owns",aEx:"aria-expanded",aHp:"aria-haspopup",zIn:"z-index",t:"true",f:"false"},d=0,l=e(n);e.extend(s.prototype,{init:function(){var e=this,n=(e.settings,e.menu),s=e.btn,o=e.element;e.btnId=t(e.btn,"dropdown__btn--",d),e.menuId=t(e.menu,"dropdown__menu--",d),n.attr(a.aHi,a.t).attr(a.aOw,e.btnId),s.attr(a.aHp,a.t).attr(a.aCs,e.menuId),e.slideUp(!1),e.settings.collapseOnOutsideClick&&l.on("click."+i,function(){e.elementStatus&&e.slideUp(!0)}),o.on("click."+i,function(e){e.stopPropagation()}),o.on("click."+i,function(n){e.toggle(!0)}),e.settings.collapseOnMenuClick||n.on("click."+i,function(e){e.stopPropagation()}),e.settings.expandOnlyOne&&l.on(i+".slideDown",function(n,t){t!==e.element&&e.elementStatus&&e.slideUp()}),l.trigger(i+".initialised",[e]),d+=1},toggle:function(){var e=this;e.elementStatus?e.slideUp(!0):e.slideDown(!0)},collapse:function(){var e=this;e.element.removeClass(e.settings.dropdownExpandedClass),e.btn.removeClass(e.settings.btnExpandedClass).attr(a.aEx,a.f),e.menu.removeClass(e.settings.menuExpandedClass).attr(a.aHi,a.t),e.elementStatus=!1},expand:function(){var e=this;e.element.addClass(e.settings.dropdownExpandedClass),e.btn.addClass(e.settings.btnExpandedClass).attr(a.aEx,a.t),e.menu.addClass(e.settings.menuExpandedClass).attr(a.aHi,a.f),e.elementStatus=!0},slideDown:function(e){var n=this,t=e?n.settings.slideSpeed:0;n.settings.cssTransitions||(n.element.css(a.zIn,n.settings.expandZIndex),n.menu.stop().slideDown(t,n.settings.easing)),l.trigger(i+".slideDown",[n]),n.expand()},slideUp:function(e){var n=this,t=e?n.settings.slideSpeed:0;n.settings.cssTransitions||(n.element.css(a.zIn,n.settings.collapseZIndex),n.menu.stop().slideUp(t,n.settings.easing)),l.trigger(i+".slideUp",[n]),n.collapse()},methodCaller:function(e){var n=this;switch(e){case"toggle":n.toggle(!0);break;case"slideDown":n.elementStatus||n.slideDown(!0);break;case"slideUp":n.elementStatus&&n.slideUp(!0)}}}),e.fn[i]=function(n){return this.each(function(){var t=this;e.data(t,"plugin_"+i)||"object"!=typeof n&&void 0!==n?"string"==typeof n&&e.data(t,"plugin_"+i).methodCaller(n):e.data(t,"plugin_"+i,new s(t,n))})},e.fn[i].defaultSettings={btnClass:"dropdown__btn",menuClass:"dropdown__menu",dropdownExpandedClass:"dropdown_expanded",btnExpandedClass:"dropdown__btn_expanded",menuExpandedClass:"dropdown__menu_expanded",slideSpeed:300,easing:"swing",collapseOnOutsideClick:!0,collapseOnMenuClick:!1,expandOnlyOne:!0,expandZIndex:10,collapseZIndex:1,cssTransitions:!1}});