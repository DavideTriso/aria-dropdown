!function(e){"function"==typeof define&&define.amd&&define(["jquery"],e)}(function(e,n,t){"use strict";function s(e,n,t){return e.is("[id]")||e.attr("id",n+t),e.attr("id")}function i(n,t){var s=this;s.settings=e.extend({},e.fn[a].defaultSettings,t),s.element=e(n),s.btn=s.element.find("> ."+s.settings.btnClass),s.menu=s.element.find("> ."+s.settings.menuClass),s.elementStatus=!1,s.init()}var a="ariaDropdown",d={aCs:"aria-controls",aHi:"aria-hidden",aOw:"aria-owns",aEx:"aria-expanded",aHp:"aria-haspopup",zIn:"z-index",t:"true",f:"false"},l=0,o=e(n);e.extend(i.prototype,{init:function(){var e=this,n=(e.settings,e.menu),t=e.btn,i=e.element;e.btnId=s(e.btn,"dropdown__btn--",l),e.menuId=s(e.menu,"dropdown__menu--",l),n.attr(d.aHi,d.t).attr(d.aOw,e.btnId),t.attr(d.aHp,d.t).attr(d.aCs,e.menuId),e.slideUp(!1),e.settings.collapseOnOutsideClick&&o.on("click."+a,function(){e.elementStatus&&e.slideUp(!0)}),i.on("click."+a,function(e){e.stopPropagation()}),i.on("click."+a,function(n){e.toggle(!0)}),e.settings.collapseOnMenuClick||n.on("click."+a,function(e){e.stopPropagation()}),e.settings.expandOnlyOne&&o.on(a+".slideDown",function(n,t){t!==e.element&&e.elementStatus&&e.slideUp()}),o.trigger(a+".initialised",[e]),l+=1},toggle:function(){var e=this;e.elementStatus?e.slideUp(!0):e.slideDown(!0)},collapse:function(){var e=this;e.element.removeClass(e.settings.dropdownExpandedClass),e.btn.removeClass(e.settings.btnExpandedClass).attr(d.aEx,d.f),e.menu.removeClass(e.settings.menuExpandedClass).attr(d.aHi,d.t),e.elementStatus=!1},expand:function(){var e=this;e.element.addClass(e.settings.dropdownExpandedClass),e.btn.addClass(e.settings.btnExpandedClass).attr(d.aEx,d.t),e.menu.addClass(e.settings.menuExpandedClass).attr(d.aHi,d.f),e.elementStatus=!0},slideDown:function(e){var n=this,t=e?n.settings.slideSpeed:0;n.settings.cssTransitions||(n.element.css(d.zIn,n.settings.expandZIndex),n.menu.stop().slideDown(t,n.settings.easing)),o.trigger(a+".slideDown",[n]),n.expand()},slideUp:function(e){var n=this,t=e?n.settings.slideSpeed:0;n.settings.cssTransitions||(n.element.css(d.zIn,n.settings.collapseZIndex),n.menu.stop().slideUp(t,n.settings.easing)),o.trigger(a+".slideUp",[n]),n.collapse()},methodCaller:function(e){var n=this;switch(e){case"toggle":n.toggle(!0);break;case"slideDown":n.elementStatus||n.slideDown(!0);break;case"slideUp":n.elementStatus&&n.slideUp(!0)}}}),e.fn[a]=function(n){return this.each(function(){var t=this;e.data(t,"plugin_"+a)||"object"!=typeof n&&void 0!==n?"string"==typeof n&&e.data(t,"plugin_"+a).methodCaller(n):e.data(t,"plugin_"+a,new i(t,n))})},e.fn[a].defaultSettings={btnClass:"dropdown__btn",menuClass:"dropdown__menu",dropdownExpandedClass:"dropdown_expanded",btnExpandedClass:"dropdown__btn_expanded",menuExpandedClass:"dropdown__menu_expanded",slideSpeed:300,easing:"swing",collapseOnOutsideClick:!0,collapseOnMenuClick:!1,expandOnlyOne:!0,expandZIndex:10,collapseZIndex:1,cssTransitions:!1}}(jQuery,window,document));