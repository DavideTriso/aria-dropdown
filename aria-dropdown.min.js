!function(e){"function"==typeof define&&define.amd&&define(["jquery"],e)}(function(e,n,t){"use strict";function o(e,n,t){return e.is("[id]")||e.attr("id",n+t),e.attr("id")}function d(n,t){var s=this;s.settings=e.extend({},e.fn[a].defaultSettings,t),s.element=e(n),s.btn=s.element.find("> ."+s.settings.btnClass),s.menu=s.element.find("> ."+s.settings.menuClass),s.elementStatus=!1,s.init()}var a="ariaDropdown",s={aCs:"aria-controls",aHi:"aria-hidden",aOw:"aria-owns",aEx:"aria-expanded",aHp:"aria-haspopup",zIn:"z-index",t:"true",f:"false"},i=0,l=e(n);e.extend(d.prototype,{init:function(){var e=this;e.btnId=o(e.btn,"dropdown__btn--",i),e.menuId=o(e.menu,"dropdown__menu--",i),e.menu.attr(s.aHi,s.t).attr(s.aOw,e.btnId),e.btn.attr(s.aHp,s.t).attr(s.aCs,e.menuId),e.slideUp(!1),l.on("click."+a+".window",function(){e.elementStatus&&e.slideUp(!0)}),e.element.on("click."+a+".window",function(e){e.stopPropagation()}),e.element.on("click."+a,function(n){e.toggle(!0)}),e.settings.collapseOnMenuClick||e.menu.on("click."+a,function(e){e.stopPropagation()}),e.settings.expandOnlyOne&&l.on(a+".slideDown",function(n,t){t!==e.element&&e.elementStatus&&e.slideUp()}),l.trigger(a+".initialised",[e]),i+=1},toggle:function(){var e=this;e.elementStatus?e.slideUp(!0):e.slideDown(!0)},collapse:function(){var e=this;e.element.removeClass(e.settings.dropdownExpandedClass),e.btn.removeClass(e.settings.btnExpandedClass).attr(s.aEx,s.f),e.menu.removeClass(e.settings.menuExpandedClass).attr(s.aHi,s.t),e.elementStatus=!1},expand:function(){var e=this;e.element.addClass(e.settings.dropdownExpandedClass),e.btn.addClass(e.settings.btnExpandedClass).attr(s.aEx,s.t),e.menu.addClass(e.settings.menuExpandedClass).attr(s.aHi,s.f),e.elementStatus=!0},slideDown:function(e){var n=this,t=e?n.settings.slideSpeed:0;n.settings.cssTransitions||n.menu.css(s.zIn,n.settings.expandZIndex).stop().slideDown(t,n.settings.easing),l.trigger(a+".slideDown",[n]),n.expand()},slideUp:function(e){var n=this,t=e?n.settings.slideSpeed:0;n.settings.cssTransitions||n.menu.css(s.zIn,n.settings.collapseZIndex).stop().slideUp(t,n.settings.easing),l.trigger(a+".slideUp",[n]),n.collapse()},methodCaller:function(e){var n=this;switch(e){case"toggle":n.toggle(!0);break;case"slideDown":n.elementStatus||n.slideDown(!0);break;case"slideUp":n.elementStatus&&n.slideUp(!0)}}}),e.fn[a]=function(n){return this.each(function(){var t=this;e.data(t,"plugin_"+a)||"object"!=typeof n&&"undefined"!=typeof n?"string"==typeof n&&e.data(t,"plugin_"+a).methodCaller(n):e.data(t,"plugin_"+a,new d(t,n))})},e.fn[a].defaultSettings={btnClass:"dropdown__btn",menuClass:"dropdown__menu",dropdownExpandedClass:"dropdown__expanded",btnExpandedClass:"dropdown__btn_expanded",menuExpandedClass:"dropdown__menu_expanded",slideSpeed:300,easing:"swing",collapseOnOutsideClick:!0,collapseOnMenuClick:!1,expandOnlyOne:!0,expandZIndex:10,collapseZIndex:1,cssTransitions:!1}}(jQuery,window,document));